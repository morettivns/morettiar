<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css_servicos.css">
    <link rel="icon" href="floco.png">
    <title>MorettiAr</title>
  
</head>
<body id="body">

    <div class="header" id="header">

        <button onclick="toggleSidebar()" class="btn_icon_header">
            <img src="imagens/menu.png" alt="menu" id="menu_icon">
        </button>

        <!--Logo do cabeçalho-->
        <div class="logo_header">
            <img src="imagens/morettiar.png" alt="logo morettiar" class="img_logo_header" id="logo_moretti"> <!--Logo-->
        </div>

            <div class="header_navegacao" id="header_navegacao"> <!--Será o menu de navegação do header (classe dentro de header)-->

                <button onclick="toggleSidebar()" class="btn_icon_header"> <!--"onclick" eecuta uma função ao botão ser clicado-->
                    <p id="x_i">x</p> <!--Será o icone para fechar a aba do menu-->
                </button>

                <!--Área de links que ficarão no menu ou header-->
                <a href="index.html">Início</a>
                <a href="#" class="home_btn">Serviços</a>
                <a href="novidades.html">Novidades</a>
                <a href="contato.html">Contato</a>
                <a href="https://www.google.com.br/maps/place/R.+Otávio+Tarquino,+994+-+Centro,+Nova+Iguaçu+-+RJ,+26215-342/@-22.7530995,-43.4448401,3a,75y,136.31h,84.25t/data=!3m6!1e1!3m4!1srlH7Bx_was2wGEeZCV7JhQ!2e0!7i16384!8i8192!4m7!3m6!1s0x9966534849a7d5:0x7bee3a1d9887ee4f!8m2!3d-22.7531813!4d-43.4447369!10e5!16s%2Fg%2F11bw448zp8" class="local_i" id="local_i">Localização</a>
        </div>
    </div>

        <!--Conteudo da página-->
    <div class="separar" id="separar">

        <div tabindex="0" class="conteudo" onfocus="closeSidebar()" id="conteudo"> <!--tabindex = "0" deixará esse div na camada 0-->
        <!--O "onfocus" acima irá fazer com que ao receber foco (ser clicado por exemplo) 
            o div executa uma função (nesse caso fechar a função "closeSidebar")-->

            <h1 class="slideleft">Nossos serviços<span id="ar">❄</span></h1>

            <div class="servicos slw3">
                <!-- Carga de gás -->
                <div class="slideleft esquerda">
                    <h2>Carga de gás</h2>
                    <br>
                    <img src="imagens/carga_gas.jpg" alt="" class="pai_img">
                    <h4 class="weak">Nosso serviço de carga de gás fica pronto em até 45 minutos.</h4>
                    <br>
                    <br>
                    <a class="link_saiba_mais" href="https://api.whatsapp.com/send?phone=5521979511229&text=Ol%C3%A1,%20gostaria%20de%20saber%20mais%20sobre%20sua%20carga%20de%20g%C3%A1s!">Saiba Mais</a>
                </div>

                <!-- Conserto e manutenção -->
                <div class="slideleft direita">
                    <h2>Conserto e Manutenção</h2>
                    <br>
                    <img src="imagens/manutencao-do-carro.jpg" alt="" class="pai_img">
                    <h4 class="weak">Fazemos seu orçamento de graça buscando erros, falhas e defeitos.</h4>
                    <br>
                    <br>
                    <a class="link_saiba_mais" href="https://api.whatsapp.com/send?phone=5521979511229&text=Ol%C3%A1,%20gostaria%20de%20saber%20mais%20sobre%20conserto%20e%20manuten%C3%A7%C3%A3o!">Saiba Mais</a>
                </div>
            </div>
        </div>
    </div>
</body>

<script>
    let header           = document.getElementById('header'); //Irá transformar as classes acima em variáveis
    let header_navegacao = document.getElementById('header_navegacao');
    let separar          = document.getElementById('separar');
    
    let showSidebar      = false; //showSidebar será a responsável pela animação do menu responsivo

    function toggleSidebar() //As funções irão fazer com que ações ocorram de acordo com clicks ou outros
    {
        showSidebar = !showSidebar; //Irá transformar showSidebar no oposto atual

        if(showSidebar) //Se estiver como verdadeiro, irá mudar o local do menu responsívo para -10vw que se encaiará perfeitamente a tela
        {
            header_navegacao.style.marginLeft = '-10vw';
            header_navegacao.style.animationName = 'showSidebar'; 
            //e irá iniciar a animação @keyframe showSidebar, que irá o mover de fora, para dentro da tela

            separar.style.filter = 'blur(2px'; // ira borrar o div conteúdo
            logo_moretti.style.filter = 'blur(2px)'; //junto com a imagem da logo (que não está presente no div acima)
        }
        else //Caso showSidebar seja negativo, irá mudar o local do menu responsivo para fora da tela.
        {
            header_navegacao.style.marginLeft = '-100vw';

            header_navegacao.style.animationName = ''; //Sem uma animação.
            separar.style.filter = ''; //E zerando os filtros aplicados anteriormente ao utilizar as aspas vazias.
            logo_moretti.style.filter = '';
        }
    }

    function closeSidebar() //Fechará a sidebar, ao ser acionada
    {
        if(showSidebar)
        {
            showSidebar = true; //Transformará a sideBar em true novamente
            toggleSidebar(); //e ao chamar a função toggleSidebar a transformará em falsa, caindo assim no "else" e executando-o.
        }
    }

    //Solução de um problema
    window.addEventListener('resize', function(event) {
        if(window.innerWidth > 768 && showSidebar) //quando a tela crescer e estiver com a função menu aberta, o fecha.
        {  
            showSidebar = true;
            toggleSidebar();
            
        }
    });
</script>
</html>